<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gelateria La Via Lattea</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
  <style>
    body {
      margin: 0;
      font-family: 'Quicksand', sans-serif;
      background: #fff8f3;
      color: #4b4b4b;
    }

    header {
      background-color: #fde2e4;
      padding: 1rem;
      text-align: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: relative;
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
      color: #d16ba5;
    }

    .lang-switch {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #fff;
      border: 1px solid #d1cfcf;
      border-radius: 20px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 0.9rem;
      user-select: none;
    }

    .container {
      padding: 1rem;
      max-width: 800px;
      margin: auto;
    }

    .flavor {
      background: #fff;
      border-radius: 12px;
      margin-bottom: 1rem;
      padding: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      transition: transform 0.2s;
    }

    .flavor:hover {
      transform: scale(1.01);
    }

    .flavor-title {
      font-weight: bold;
      font-size: 1.2rem;
      color: #ff91a4;
      cursor: default;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .flavor-details {
      display: none;
      margin-top: 0.5rem;
      animation: fadeIn 0.4s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .ingredients {
      margin-top: 0.5rem;
      font-size: 0.95rem;
    }

    .footer {
      text-align: center;
      padding: 2rem 1rem;
      font-size: 0.85rem;
      color: #aaa;
    }

    @media (max-width: 600px) {
      .flavor-title {
        font-size: 1rem;
      }
    }

    .icon {
      height: 30px;
      vertical-align: middle;
    }

    .filter-bar {
      text-align: center;
      margin: 1rem auto;
      font-size: 1rem;
    }

    .filter-bar select {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-family: 'Quicksand', sans-serif;
    }

    .disabled {
      color: #999;
      cursor: default;
      user-select: none;
    }

    .flavor-description {
      margin-top: 0.4rem;
      font-size: 0.95rem;
      color: #666;
      animation: fadeIn 0.4s ease-in-out;
    }

    footer.footer {
      background-color: #fde2e4;
      text-align: center;
      padding: 2rem 1rem;
      color: #4b4b4b;
      font-size: 0.9rem;
      border-top: 2px solid #f9c5d1;
    }

    .footer a {
      color: #d16ba5;
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .footer a:hover {
      color: #ff91a4;
      text-decoration: underline;
    }

    .footer-note {
      margin-top: 1rem;
      font-size: 0.8rem;
      color: #777;
    }
  </style>
</head>
<body>
  <header>
    <img src="immagini/logo2.png" alt="Logo Gelateria La Via Lattea" style="height: 80px; margin-bottom: 0.5rem;" />
    <h1>Gelateria La Via Lattea</h1>
    <div class="lang-switch" onclick="switchLang()">IT | EN</div>
    <div class="filter-bar">
      <label for="filter" id="filter-label" data-i18n="filterLabel">Filtra:</label>
      <select id="filter">
        <option value="tutti" data-i18n="filterAll">Tutti</option>
        <option value="vegani" data-i18n="filterVegan">Vegani</option>
      </select>
    </div>
  </header>

  <div class="container" id="flavor-list">
    <!-- Gusti vengono inseriti via JS -->
  </div>

  <footer class="footer">
    <div class="footer-content">
      <p><strong>Gelateria La Via Lattea</strong></p>
      <p>üìç <a href="https://www.google.com/maps/place/Gelateria+La+Via+Lattea+Di+Taddia+Roberto/@44.4460264,11.4699031,17z/data=!3m2!4b1!5s0x477e29bbf201abd7:0x96c328674547ef6!4m6!3m5!1s0x477e29bc7594e531:0x63e4de4cf9ac233f!8m2!3d44.4460226!4d11.472478!16s%2Fg%2F1vb9bx47?entry=ttu&g_ep=EgoyMDI1MTAxNC4wIKXMDSoASAFQAw%3D%3D">Via Emilia 66, 40064 Ozzano dell'Emilia (BO)</a></p>
      <p>üìû <a href="tel:+39051798284">+39 051 798284</a></p>
    </div>
  </footer>

  <script>
    const translations = {
      it: {
        filterLabel: "Filtra:",
        filterAll: "Tutti",
        filterVegan: "Vegani"
      },
      en: {
        filterLabel: "Filter:",
        filterAll: "All",
        filterVegan: "Vegan"
      }
    };

    const flavors = [
      { name: { it: "Amarena", en: "Sour Cherry" }, vegano: false, description: { it: "Fiordilatte con amarene", en: "Milk cream with sour cherries" } },
      { name: { it: "Arachide con Noci Pecan Caramellate", en: "Peanut with Caramelized Pecan Nuts" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Bacio", en: "Bacio" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Cioccolato", en: "Chocolate" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Cioccolato fondente Santo Domingo 70%", en: "Dark Chocolate Santo Domingo 70%" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Cookies Caramel", en: "Cookies Caramel" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Crema", en: "Cream" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Cremino Croccante", en: "Crunchy Cream" }, vegano: false, description: { it: "Nocciola, nutella e cereali ricoperti di cioccolato", en: "Hazelnut, Nutella, and chocolate-covered cereals" } },
      { name: { it: "Dubai Chocolate", en: "Dubai Chocolate" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Fiordilatte", en: "Milk Cream" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Fragola", en: "Strawberry" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Limone", en: "Lemon" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Mascarpone al Caramello Salato", en: "Salted Caramel Mascarpone" }, vegano: false, description: { it: "Con crumble al caramello", en: "With caramel crumble" } },
      { name: { it: "Mousse allo Zabaione", en: "Zabaione Mousse" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Nocciola", en: "Hazelnut" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Nutella", en: "Nutella" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Panna Cotta", en: "Panna Cotta" }, vegano: false, description: { it: "Panna con caramello", en: "Cream with caramel" } },
      { name: { it: "Pistacchio", en: "Pistachio" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Sognando la Sardegna", en: "Dreaming of Sardinia" }, vegano: false, description: { it: "Ricotta, miele e crumble al mirto", en: "Ricotta, honey, and myrtle crumble" } },
      { name: { it: "Stracciatella", en: "Stracciatella" }, vegano: false, description: { it: "Fiordilatte con gocce di cioccolato", en: "Milk cream with chocolate chips" } },
      { name: { it: "Stracciatella Olvi", en: "Stracciatella Olvi" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Vaniglia Olvi con Mela e Cannella", en: "Vanilla Olvi with Apple and Cinnamon" }, vegano: true, description: { it: "", en: "" } },
      { name: { it: "Viaggio in Toscana", en: "Trip to Tuscany" }, vegano: false, description: { it: "Crema all'amaretto, vino dolce, crumble alla mandorla e anice stellato", en: "Amaretto cream, sweet wine, almond crumble, and star anise" } },
      { name: { it: "Yogurt", en: "Yogurt" }, vegano: false, description: { it: "", en: "" } },
      { name: { it: "Zuppa Inglese", en: "English Trifle" }, vegano: false, description: { it: "Crema, pan di Spagna e alchermes", en: "Cream, sponge cake, and Alchermes liqueur" } },
    ].sort((a, b) => a.name.it.localeCompare(b.name.it));

    let currentLang = 'it';

    function switchLang() {
      currentLang = currentLang === 'it' ? 'en' : 'it';
      updateFilterLabels();
      renderFlavors();
    }

    function updateFilterLabels() {
      const elements = document.querySelectorAll('[data-i18n]');
      elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[currentLang][key]) {
          el.textContent = translations[currentLang][key];
        }
      });
    }

    function toggleDetails(index) {
      const details = document.getElementById(`details-${index}`);
      details.style.display = details.style.display === 'block' ? 'none' : 'block';
    }

    function renderFlavors() {
      const list = document.getElementById("flavor-list");
      const selectedFilter = document.getElementById("filter")?.value || "tutti";

      list.innerHTML = "";

      let filteredFlavors = flavors;
      if (selectedFilter === "vegani") {
        filteredFlavors = flavors.filter(f => f.vegano);
      }

      filteredFlavors.forEach((flavor) => {
        const hasDescription = flavor.description[currentLang] && flavor.description[currentLang].trim() !== "";

        const block = document.createElement("div");
        block.className = "flavor";

        block.innerHTML = `
          <div class="flavor-title">
            <span>${flavor.name[currentLang]}</span>
            ${flavor.vegano ? '<img src="immagini/vegano.png" alt="Vegano" class="icon" />' : ''}
          </div>
          ${hasDescription ? `<div class="flavor-description">${flavor.description[currentLang]}</div>` : ""}
        `;

        list.appendChild(block);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      updateFilterLabels();
      renderFlavors();
    });

    document.getElementById('filter').addEventListener('change', () => {
      renderFlavors();
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js"></script>
  <script>
    window.addEventListener("load", function(){
      // inizializza cookieconsent
      window.cookieconsent.initialise({
        palette: {
          popup: { background: "#fde2e4", text: "#000" },
          button: { background: "#d16ba5", text: "#fff" }
        },
        theme: "classic",
        type: "opt-in",
        content: {
          message: "Questo sito utilizza cookie tecnici per migliorare l'esperienza utente. Nessun cookie di profilazione verr√† installato senza consenso.",
          allow: "Accetta",
          deny: "Rifiuta",
          link: "Maggiori informazioni",
          href: "https://www.cookiesandyou.com/"
        }
      });
      });
  </script>

</body>
</html>
